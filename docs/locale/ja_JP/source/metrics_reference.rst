Metrics Reference
=================

Orderer Metrics
---------------

Prometheus
~~~~~~~~~~

以下のordererのメトリクスは、Prometheusにより取得出来ます。

+----------------------------------------------+-----------+------------------------------------------------------------+--------------------------------------------------------------------------------+
| 名前                                         | タイプ    | 説明                                                       | ラベル                                                                         |
+==============================================+===========+============================================================+===========+====================================================================+
| blockcutter_block_fill_duration              | histogram | トランザクションが最初にブロックにエンキューされてから     | channel   |                                                                    |
|                                              |           | ブロックが生成されるまでの時間(秒)                         |           |                                                                    |
+----------------------------------------------+-----------+------------------------------------------------------------+-----------+--------------------------------------------------------------------+
| broadcast_enqueue_duration                   | histogram | トランザクションをエンキューするのに掛かった時間(秒)       | channel   |                                                                    |
|                                              |           |                                                            +-----------+--------------------------------------------------------------------+
|                                              |           |                                                            | type      |                                                                    |
|                                              |           |                                                            +-----------+--------------------------------------------------------------------+
|                                              |           |                                                            | status    |                                                                    |
+----------------------------------------------+-----------+------------------------------------------------------------+-----------+--------------------------------------------------------------------+
| broadcast_processed_count                    | counter   | 処理したトランザクション数                                 | channel   |                                                                    |
|                                              |           |                                                            +-----------+--------------------------------------------------------------------+
|                                              |           |                                                            | type      |                                                                    |
|                                              |           |                                                            +-----------+--------------------------------------------------------------------+
|                                              |           |                                                            | status    |                                                                    |
+----------------------------------------------+-----------+------------------------------------------------------------+-----------+--------------------------------------------------------------------+
| broadcast_validate_duration                  | histogram | トランザクションを承認する時間(秒)                         | channel   |                                                                    |
|                                              |           |                                                            +-----------+--------------------------------------------------------------------+
|                                              |           |                                                            | type      |                                                                    |
|                                              |           |                                                            +-----------+--------------------------------------------------------------------+
|                                              |           |                                                            | status    |                                                                    |
+----------------------------------------------+-----------+------------------------------------------------------------+-----------+--------------------------------------------------------------------+
| cluster_comm_egress_queue_capacity           | gauge     | エグレスキューの容量                                       | host      |                                                                    |
|                                              |           |                                                            +-----------+--------------------------------------------------------------------+
|                                              |           |                                                            | msg_type  |                                                                    |
|                                              |           |                                                            +-----------+--------------------------------------------------------------------+
|                                              |           |                                                            | channel   |                                                                    |
+----------------------------------------------+-----------+------------------------------------------------------------+-----------+--------------------------------------------------------------------+
| cluster_comm_egress_queue_length             | gauge     | エグレスキューの長さ                                       | host      |                                                                    |
|                                              |           |                                                            +-----------+--------------------------------------------------------------------+
|                                              |           |                                                            | msg_type  |                                                                    |
|                                              |           |                                                            +-----------+--------------------------------------------------------------------+
|                                              |           |                                                            | channel   |                                                                    |
+----------------------------------------------+-----------+------------------------------------------------------------+-----------+--------------------------------------------------------------------+
| cluster_comm_egress_queue_workers            | gauge     | エグレスキューワーカー数                                   | channel   |                                                                    |
+----------------------------------------------+-----------+------------------------------------------------------------+-----------+--------------------------------------------------------------------+
| cluster_comm_egress_stream_count             | gauge     | 他ノードへのストリーム数                                   | channel   |                                                                    |
+----------------------------------------------+-----------+------------------------------------------------------------+-----------+--------------------------------------------------------------------+
| cluster_comm_egress_tls_connection_count     | gauge     | 他ノードへのTLS接続数                                      |           |                                                                    |
+----------------------------------------------+-----------+------------------------------------------------------------+-----------+--------------------------------------------------------------------+
| cluster_comm_ingress_stream_count            | gauge     | 他ノードからのストリーム数                                 |           |                                                                    |
+----------------------------------------------+-----------+------------------------------------------------------------+-----------+--------------------------------------------------------------------+
| cluster_comm_msg_dropped_count               | counter   | ドロップしたメッセージ数                                   | host      |                                                                    |
|                                              |           |                                                            +-----------+--------------------------------------------------------------------+
|                                              |           |                                                            | channel   |                                                                    |
+----------------------------------------------+-----------+------------------------------------------------------------+-----------+--------------------------------------------------------------------+
| cluster_comm_msg_send_time                   | histogram | メッセージ送信に掛かった時間(秒)                           | host      |                                                                    |
|                                              |           |                                                            +-----------+--------------------------------------------------------------------+
|                                              |           |                                                            | channel   |                                                                    |
+----------------------------------------------+-----------+------------------------------------------------------------+-----------+--------------------------------------------------------------------+
| consensus_etcdraft_active_nodes              | gauge     | チャネル内のアクティブなノード数                           | channel   |                                                                    |
+----------------------------------------------+-----------+------------------------------------------------------------+-----------+--------------------------------------------------------------------+
| consensus_etcdraft_cluster_size              | gauge     | チャネル内のノード数                                       | channel   |                                                                    |
+----------------------------------------------+-----------+------------------------------------------------------------+-----------+--------------------------------------------------------------------+
| consensus_etcdraft_committed_block_number    | gauge     | コミットされた最新ブロックのブロック番号                   | channel   |                                                                    |
+----------------------------------------------+-----------+------------------------------------------------------------+-----------+--------------------------------------------------------------------+
| consensus_etcdraft_config_proposals_received | counter   | コンフィギュレーショントランザクションとして受信した       | channel   |                                                                    |
|                                              |           | 全プロポーザル数                                           |           |                                                                    |
+----------------------------------------------+-----------+------------------------------------------------------------+-----------+--------------------------------------------------------------------+
| consensus_etcdraft_data_persist_duration     | histogram | etcd及びraftデータをストレージに永続化するまでの時間       | channel   |                                                                    |
+----------------------------------------------+-----------+------------------------------------------------------------+-----------+--------------------------------------------------------------------+
| consensus_etcdraft_is_leader                 | gauge     | 該当ノードの現在のリーダーシップステータス                 | channel   |                                                                    |
|                                              |           | (リーダーノードであれば1、そうでなければ0)                 |           |                                                                    |
+----------------------------------------------+-----------+------------------------------------------------------------+-----------+--------------------------------------------------------------------+
| consensus_etcdraft_leader_changes            | counter   | プロセススタート後に変更したリーダー数                     | channel   |                                                                    |
+----------------------------------------------+-----------+------------------------------------------------------------+-----------+--------------------------------------------------------------------+
| consensus_etcdraft_normal_proposals_received | counter   | ノーマルタイプのトランザクションとして受信した             | channel   |                                                                    |
|                                              |           | 全プロポーザル数                                           |           |                                                                    |
+----------------------------------------------+-----------+------------------------------------------------------------+-----------+--------------------------------------------------------------------+
| consensus_etcdraft_proposal_failures         | counter   | 失敗したプロポーザル数                                     | channel   |                                                                    |
+----------------------------------------------+-----------+------------------------------------------------------------+-----------+--------------------------------------------------------------------+
| consensus_etcdraft_snapshot_block_number     | gauge     | 最新スナップショットのブロック番号                         | channel   |                                                                    |
+----------------------------------------------+-----------+------------------------------------------------------------+-----------+--------------------------------------------------------------------+
| consensus_kafka_batch_size                   | gauge     | トピックに送信したバッチサイズの平均値(バイト)             | topic     |                                                                    |
+----------------------------------------------+-----------+------------------------------------------------------------+-----------+--------------------------------------------------------------------+
| consensus_kafka_compression_ratio            | gauge     | トピックにおける圧縮率の平均値                             | topic     |                                                                    |
+----------------------------------------------+-----------+------------------------------------------------------------+-----------+--------------------------------------------------------------------+
| consensus_kafka_incoming_byte_rate           | gauge     | ブローカーから読みだされる1秒当たりのバイト数              | broker_id |                                                                    |
+----------------------------------------------+-----------+------------------------------------------------------------+-----------+--------------------------------------------------------------------+
| consensus_kafka_last_offset_persisted        | gauge     | コミットされた最新ブロックのメタデータで指定したオフセット | channel   |                                                                    |
+----------------------------------------------+-----------+------------------------------------------------------------+-----------+--------------------------------------------------------------------+
| consensus_kafka_outgoing_byte_rate           | gauge     | ブローカーから書込まれる1秒当たりのバイト数                | broker_id |                                                                    |
+----------------------------------------------+-----------+------------------------------------------------------------+-----------+--------------------------------------------------------------------+
| consensus_kafka_record_send_rate             | gauge     | トピックに送信される1秒当たりのレコード数                  | topic     |                                                                    |
+----------------------------------------------+-----------+------------------------------------------------------------+-----------+--------------------------------------------------------------------+
| consensus_kafka_records_per_request          | gauge     | トピックに送信される1リクエスト当たりのレコード数の平均値  | topic     |                                                                    |
+----------------------------------------------+-----------+------------------------------------------------------------+-----------+--------------------------------------------------------------------+
| consensus_kafka_request_latency              | gauge     | ブローカーに送信されるリクエストレイテンシー平均値(ミリ秒) | broker_id |                                                                    |
+----------------------------------------------+-----------+------------------------------------------------------------+-----------+--------------------------------------------------------------------+
| consensus_kafka_request_rate                 | gauge     | ブローカーに送信される1秒当たりのリクエスト数              | broker_id |                                                                    |
+----------------------------------------------+-----------+------------------------------------------------------------+-----------+--------------------------------------------------------------------+
| consensus_kafka_request_size                 | gauge     | ブローカーへのリクエストのサイズの平均値(バイト)           | broker_id |                                                                    |
+----------------------------------------------+-----------+------------------------------------------------------------+-----------+--------------------------------------------------------------------+
| consensus_kafka_response_rate                | gauge     | ブローカーから送信される1秒当たりのレスポンス数            | broker_id |                                                                    |
+----------------------------------------------+-----------+------------------------------------------------------------+-----------+--------------------------------------------------------------------+
| consensus_kafka_response_size                | gauge     | ブローカーからのレスポンスのサイズの平均値(バイト)         | broker_id |                                                                    |
+----------------------------------------------+-----------+------------------------------------------------------------+-----------+--------------------------------------------------------------------+
| deliver_blocks_sent                          | counter   | デリバリーサービスによって送信されるブロック数             | channel   |                                                                    |
|                                              |           |                                                            +-----------+--------------------------------------------------------------------+
|                                              |           |                                                            | filtered  |                                                                    |
|                                              |           |                                                            +-----------+--------------------------------------------------------------------+
|                                              |           |                                                            | data_type |                                                                    |
+----------------------------------------------+-----------+------------------------------------------------------------+-----------+--------------------------------------------------------------------+
| deliver_requests_completed                   | counter   | 完了したデリバリーリクエスト数                             | channel   |                                                                    |
|                                              |           |                                                            +-----------+--------------------------------------------------------------------+
|                                              |           |                                                            | filtered  |                                                                    |
|                                              |           |                                                            +-----------+--------------------------------------------------------------------+
|                                              |           |                                                            | data_type |                                                                    |
|                                              |           |                                                            +-----------+--------------------------------------------------------------------+
|                                              |           |                                                            | success   |                                                                    |
+----------------------------------------------+-----------+------------------------------------------------------------+-----------+--------------------------------------------------------------------+
| deliver_requests_received                    | counter   | 受信したデリバリーリクエスト数                             | channel   |                                                                    |
|                                              |           |                                                            +-----------+--------------------------------------------------------------------+
|                                              |           |                                                            | filtered  |                                                                    |
|                                              |           |                                                            +-----------+--------------------------------------------------------------------+
|                                              |           |                                                            | data_type |                                                                    |
+----------------------------------------------+-----------+------------------------------------------------------------+-----------+--------------------------------------------------------------------+
| deliver_streams_closed                       | counter   | クローズされたデリバリーサービスのGRPCストリーム数         |           |                                                                    |
+----------------------------------------------+-----------+------------------------------------------------------------+-----------+--------------------------------------------------------------------+
| deliver_streams_opened                       | counter   | オープン化されたデリバリーサービスのGRPCストリーム数       |           |                                                                    |
+----------------------------------------------+-----------+------------------------------------------------------------+-----------+--------------------------------------------------------------------+
| fabric_version                               | gauge     | 稼働しているFabricのバージョン                             | version   |                                                                    |
+----------------------------------------------+-----------+------------------------------------------------------------+-----------+--------------------------------------------------------------------+
| grpc_comm_conn_closed                        | counter   | クローズされたgRPC接続数                                   |           |                                                                    |
|                                              |           | (Open数からClosed数を引いた値がアクティブな接続数)         |           |                                                                    |
+----------------------------------------------+-----------+------------------------------------------------------------+-----------+--------------------------------------------------------------------+
| grpc_comm_conn_opened                        | counter   | オープン化されたgRPC接続数                                 |           |                                                                    |
|                                              |           | (Open数からClosed数を引いた値がアクティブな接続数)         |           |                                                                    |
+----------------------------------------------+-----------+------------------------------------------------------------+-----------+--------------------------------------------------------------------+
| grpc_server_stream_messages_received         | counter   | 受信したストリームメッセージ数                             | service   |                                                                    |
|                                              |           |                                                            +-----------+--------------------------------------------------------------------+
|                                              |           |                                                            | method    |                                                                    |
+----------------------------------------------+-----------+------------------------------------------------------------+-----------+--------------------------------------------------------------------+
| grpc_server_stream_messages_sent             | counter   | 送信されたストリームメッセージ数                           | service   |                                                                    |
|                                              |           |                                                            +-----------+--------------------------------------------------------------------+
|                                              |           |                                                            | method    |                                                                    |
+----------------------------------------------+-----------+------------------------------------------------------------+-----------+--------------------------------------------------------------------+
| grpc_server_stream_request_duration          | histogram | ストリームリクエストの完了時間                             | service   |                                                                    |
|                                              |           |                                                            +-----------+--------------------------------------------------------------------+
|                                              |           |                                                            | method    |                                                                    |
|                                              |           |                                                            +-----------+--------------------------------------------------------------------+
|                                              |           |                                                            | code      |                                                                    |
+----------------------------------------------+-----------+------------------------------------------------------------+-----------+--------------------------------------------------------------------+
| grpc_server_stream_requests_completed        | counter   | 完了したストリームリクエスト数                             | service   |                                                                    |
|                                              |           |                                                            +-----------+--------------------------------------------------------------------+
|                                              |           |                                                            | method    |                                                                    |
|                                              |           |                                                            +-----------+--------------------------------------------------------------------+
|                                              |           |                                                            | code      |                                                                    |
+----------------------------------------------+-----------+------------------------------------------------------------+-----------+--------------------------------------------------------------------+
| grpc_server_stream_requests_received         | counter   | 受信したストリームリクエスト数                             | service   |                                                                    |
|                                              |           |                                                            +-----------+--------------------------------------------------------------------+
|                                              |           |                                                            | method    |                                                                    |
+----------------------------------------------+-----------+------------------------------------------------------------+-----------+--------------------------------------------------------------------+
| grpc_server_unary_request_duration           | histogram | 単項リクエストの完了時間                                   | service   |                                                                    |
|                                              |           |                                                            +-----------+--------------------------------------------------------------------+
|                                              |           |                                                            | method    |                                                                    |
|                                              |           |                                                            +-----------+--------------------------------------------------------------------+
|                                              |           |                                                            | code      |                                                                    |
+----------------------------------------------+-----------+------------------------------------------------------------+-----------+--------------------------------------------------------------------+
| grpc_server_unary_requests_completed         | counter   | 完了した単項リクエスト数                                   | service   |                                                                    |
|                                              |           |                                                            +-----------+--------------------------------------------------------------------+
|                                              |           |                                                            | method    |                                                                    |
|                                              |           |                                                            +-----------+--------------------------------------------------------------------+
|                                              |           |                                                            | code      |                                                                    |
+----------------------------------------------+-----------+------------------------------------------------------------+-----------+--------------------------------------------------------------------+
| grpc_server_unary_requests_received          | counter   | 受信した単項リクエスト数                                   | service   |                                                                    |
|                                              |           |                                                            +-----------+--------------------------------------------------------------------+
|                                              |           |                                                            | method    |                                                                    |
+----------------------------------------------+-----------+------------------------------------------------------------+-----------+--------------------------------------------------------------------+
| ledger_blockchain_height                     | gauge     | チェーンとなったブロック数                                 | channel   |                                                                    |
+----------------------------------------------+-----------+------------------------------------------------------------+-----------+--------------------------------------------------------------------+
| ledger_blockstorage_commit_time              | histogram | コミットされたブロックが保存されるまでの時間(秒)           | channel   |                                                                    |
+----------------------------------------------+-----------+------------------------------------------------------------+-----------+--------------------------------------------------------------------+
| logging_entries_checked                      | counter   | アクティブなログレベルに対してのログエントリー数           | level     |                                                                    |
+----------------------------------------------+-----------+------------------------------------------------------------+-----------+--------------------------------------------------------------------+
| logging_entries_written                      | counter   | 書込まれたログエントリー数                                 | level     |                                                                    |
+----------------------------------------------+-----------+------------------------------------------------------------+-----------+--------------------------------------------------------------------+

StatsD
~~~~~~

以下のordererのメトリクスは、StatsDにより取得出来ます。 ``%{variable_name}`` は、環境に応じて変える箇所です。


例えば ``%{channel}`` は、メトリックに関連したチャネル名に変えてください。

+---------------------------------------------------------------------------+-----------+------------------------------------------------------------+
| バケット                                                                  | タイプ    | 説明                                                       |
+===========================================================================+===========+============================================================+
| blockcutter.block_fill_duration.%{channel}                                | histogram | トランザクションが最初にブロックにエンキューされてから     |
|                                                                           |           | ブロックが生成されるまでの時間(秒)                         |
+---------------------------------------------------------------------------+-----------+------------------------------------------------------------+
| broadcast.enqueue_duration.%{channel}.%{type}.%{status}                   | histogram | トランザクションをエンキューするのに掛かった時間(秒)       |
+---------------------------------------------------------------------------+-----------+------------------------------------------------------------+
| broadcast.processed_count.%{channel}.%{type}.%{status}                    | counter   | 処理したトランザクション数                                 |
+---------------------------------------------------------------------------+-----------+------------------------------------------------------------+
| broadcast.validate_duration.%{channel}.%{type}.%{status}                  | histogram | トランザクションを承認する時間(秒)                         |
+---------------------------------------------------------------------------+-----------+------------------------------------------------------------+
| cluster.comm.egress_queue_capacity.%{host}.%{msg_type}.%{channel}         | gauge     | エグレスキューの容量                                       |
+---------------------------------------------------------------------------+-----------+------------------------------------------------------------+
| cluster.comm.egress_queue_length.%{host}.%{msg_type}.%{channel}           | gauge     | エグレスキューの長さ                                       |
+---------------------------------------------------------------------------+-----------+------------------------------------------------------------+
| cluster.comm.egress_queue_workers.%{channel}                              | gauge     | エグレスキューワーカー数                                   |
+---------------------------------------------------------------------------+-----------+------------------------------------------------------------+
| cluster.comm.egress_stream_count.%{channel}                               | gauge     | 他ノードへのストリーム数                                   |
+---------------------------------------------------------------------------+-----------+------------------------------------------------------------+
| cluster.comm.egress_tls_connection_count                                  | gauge     | 他ノードへのTLS接続数                                      |
+---------------------------------------------------------------------------+-----------+------------------------------------------------------------+
| cluster.comm.ingress_stream_count                                         | gauge     | 他ノードからのストリーム数                                 |
+---------------------------------------------------------------------------+-----------+------------------------------------------------------------+
| cluster.comm.msg_dropped_count.%{host}.%{channel}                         | counter   | ドロップしたメッセージ数                                   |
+---------------------------------------------------------------------------+-----------+------------------------------------------------------------+
| cluster.comm.msg_send_time.%{host}.%{channel}                             | histogram | メッセージ送信に掛かった時間(秒)                           |
+---------------------------------------------------------------------------+-----------+------------------------------------------------------------+
| consensus.etcdraft.active_nodes.%{channel}                                | gauge     | チャネル内のアクティブなノード数                           |
+---------------------------------------------------------------------------+-----------+------------------------------------------------------------+
| consensus.etcdraft.cluster_size.%{channel}                                | gauge     | チャネル内のノード数                                       |
+---------------------------------------------------------------------------+-----------+------------------------------------------------------------+
| consensus.etcdraft.committed_block_number.%{channel}                      | gauge     | コミットされた最新ブロックのブロック番号                   |
+---------------------------------------------------------------------------+-----------+------------------------------------------------------------+
| consensus.etcdraft.config_proposals_received.%{channel}                   | counter   | コンフィギュレーショントランザクションとして受信した       |
|                                                                           |           | 全プロポーザル数                                           |
+---------------------------------------------------------------------------+-----------+------------------------------------------------------------+
| consensus.etcdraft.data_persist_duration.%{channel}                       | histogram | etcd及びraftデータをストレージに永続化するまでの時間       |
+---------------------------------------------------------------------------+-----------+------------------------------------------------------------+
| consensus.etcdraft.is_leader.%{channel}                                   | gauge     | 該当ノードの現在のリーダーシップステータス                 |
|                                                                           |           | (リーダーノードであれば1、そうでなければ0)                 |
+---------------------------------------------------------------------------+-----------+------------------------------------------------------------+
| consensus.etcdraft.leader_changes.%{channel}                              | counter   | プロセススタート後に変更したリーダー数                     |
+---------------------------------------------------------------------------+-----------+------------------------------------------------------------+
| consensus.etcdraft.normal_proposals_received.%{channel}                   | counter   | ノーマルタイプのトランザクションを受信した全プロポーザル数 |
+---------------------------------------------------------------------------+-----------+------------------------------------------------------------+
| consensus.etcdraft.proposal_failures.%{channel}                           | counter   | 失敗したプロポーザル数                                     |
+---------------------------------------------------------------------------+-----------+------------------------------------------------------------+
| consensus.etcdraft.snapshot_block_number.%{channel}                       | gauge     | 最新スナップショットのブロック番号                         |
+---------------------------------------------------------------------------+-----------+------------------------------------------------------------+
| consensus.kafka.batch_size.%{topic}                                       | gauge     | トピックに送信したバッチサイズの平均値(バイト)             |
+---------------------------------------------------------------------------+-----------+------------------------------------------------------------+
| consensus.kafka.compression_ratio.%{topic}                                | gauge     | トピックにおける圧縮率の平均値                             |
+---------------------------------------------------------------------------+-----------+------------------------------------------------------------+
| consensus.kafka.incoming_byte_rate.%{broker_id}                           | gauge     | ブローカーから読みだされる1秒当たりのバイト数              |
+---------------------------------------------------------------------------+-----------+------------------------------------------------------------+
| consensus.kafka.last_offset_persisted.%{channel}                          | gauge     | コミットされた最新ブロックのメタデータで指定したオフセット |
+---------------------------------------------------------------------------+-----------+------------------------------------------------------------+
| consensus.kafka.outgoing_byte_rate.%{broker_id}                           | gauge     | ブローカーから書込まれる1秒当たりのバイト数                |
+---------------------------------------------------------------------------+-----------+------------------------------------------------------------+
| consensus.kafka.record_send_rate.%{topic}                                 | gauge     | トピックに送信される1秒当たりのレコード数                  |
+---------------------------------------------------------------------------+-----------+------------------------------------------------------------+
| consensus.kafka.records_per_request.%{topic}                              | gauge     | トピックに送信される1リクエスト当たりのレコード数の平均値  |
+---------------------------------------------------------------------------+-----------+------------------------------------------------------------+
| consensus.kafka.request_latency.%{broker_id}                              | gauge     | ブローカーに送信されるリクエストレイテンシー平均値(ミリ秒) |
+---------------------------------------------------------------------------+-----------+------------------------------------------------------------+
| consensus.kafka.request_rate.%{broker_id}                                 | gauge     | ブローカーに送信される1秒当たりのリクエスト数              |
+---------------------------------------------------------------------------+-----------+------------------------------------------------------------+
| consensus.kafka.request_size.%{broker_id}                                 | gauge     | ブローカーへのリクエストのサイズの平均値(バイト)           |
+---------------------------------------------------------------------------+-----------+------------------------------------------------------------+
| consensus.kafka.response_rate.%{broker_id}                                | gauge     | ブローカーから送信される1秒当たりのレスポンス数            |
+---------------------------------------------------------------------------+-----------+------------------------------------------------------------+
| consensus.kafka.response_size.%{broker_id}                                | gauge     | ブローカーからのレスポンスのサイズの平均値(バイト)         |
+---------------------------------------------------------------------------+-----------+------------------------------------------------------------+
| deliver.blocks_sent.%{channel}.%{filtered}.%{data_type}                   | counter   | デリバリーサービスによって送信されるブロック数             |
+---------------------------------------------------------------------------+-----------+------------------------------------------------------------+
| deliver.requests_completed.%{channel}.%{filtered}.%{data_type}.%{success} | counter   | 完了したデリバリーリクエスト数                             |
+---------------------------------------------------------------------------+-----------+------------------------------------------------------------+
| deliver.requests_received.%{channel}.%{filtered}.%{data_type}             | counter   | 受信したデリバリーリクエスト数                             |
+---------------------------------------------------------------------------+-----------+------------------------------------------------------------+
| deliver.streams_closed                                                    | counter   | デリバリーサービスによりクローズされたGRPCストリーム数     |
+---------------------------------------------------------------------------+-----------+------------------------------------------------------------+
| deliver.streams_opened                                                    | counter   | デリバリーサービスによりオープン化されたGRPCストリーム数   |
+---------------------------------------------------------------------------+-----------+------------------------------------------------------------+
| fabric_version.%{version}                                                 | gauge     | 稼働しているFabricのバージョン                             |
+---------------------------------------------------------------------------+-----------+------------------------------------------------------------+
| grpc.comm.conn_closed                                                     | counter   | クローズされたgRPC接続数                                   |
|                                                                           |           | (Open数からClosed数を引いた値がアクティブな接続数)         |
+---------------------------------------------------------------------------+-----------+------------------------------------------------------------+
| grpc.comm.conn_opened                                                     | counter   | オープン化されたgRPC接続数                                 |
|                                                                           |           | (Open数からClosed数を引いた値がアクティブな接続数)         |
+---------------------------------------------------------------------------+-----------+------------------------------------------------------------+
| grpc.server.stream_messages_received.%{service}.%{method}                 | counter   | 受信したストリームメッセージ数                             |
+---------------------------------------------------------------------------+-----------+------------------------------------------------------------+
| grpc.server.stream_messages_sent.%{service}.%{method}                     | counter   | 送信されたストリームメッセージ数                           |
+---------------------------------------------------------------------------+-----------+------------------------------------------------------------+
| grpc.server.stream_request_duration.%{service}.%{method}.%{code}          | histogram | ストリームリクエストの完了時間                             |
+---------------------------------------------------------------------------+-----------+------------------------------------------------------------+
| grpc.server.stream_requests_completed.%{service}.%{method}.%{code}        | counter   | 完了したストリームリクエスト数                             |
+---------------------------------------------------------------------------+-----------+------------------------------------------------------------+
| grpc.server.stream_requests_received.%{service}.%{method}                 | counter   | 受信したストリームリクエスト数                             |
+---------------------------------------------------------------------------+-----------+------------------------------------------------------------+
| grpc.server.unary_request_duration.%{service}.%{method}.%{code}           | histogram | 単項リクエストの完了時間                                   |
+---------------------------------------------------------------------------+-----------+------------------------------------------------------------+
| grpc.server.unary_requests_completed.%{service}.%{method}.%{code}         | counter   | 完了した単項リクエスト数                                   |
+---------------------------------------------------------------------------+-----------+------------------------------------------------------------+
| grpc.server.unary_requests_received.%{service}.%{method}                  | counter   | 受信した単項リクエスト数                                   |
+---------------------------------------------------------------------------+-----------+------------------------------------------------------------+
| ledger.blockchain_height.%{channel}                                       | gauge     | チェーンとなったブロック数                                 |
+---------------------------------------------------------------------------+-----------+------------------------------------------------------------+
| ledger.blockstorage_commit_time.%{channel}                                | histogram | コミットされたブロックが保存されるまでの時間(秒)           |
+---------------------------------------------------------------------------+-----------+------------------------------------------------------------+
| logging.entries_checked.%{level}                                          | counter   | アクティブなログレベルに対してのログエントリー数           |
+---------------------------------------------------------------------------+-----------+------------------------------------------------------------+
| logging.entries_written.%{level}                                          | counter   | 書込まれたログエントリー数                                 |
+---------------------------------------------------------------------------+-----------+------------------------------------------------------------+

Peer Metrics
------------

Prometheus
~~~~~~~~~~

以下のpeerのメトリクスは、Prometheusにより取得出来ます。

+-----------------------------------------------------+-----------+------------------------------------------------------------+--------------------------------------------------------------------------------+
| 名前                                                | タイプ    | 説明                                                       | ラベル                                                                         |
+=====================================================+===========+============================================================+==================+=============================================================+
| chaincode_execute_timeouts                          | counter   | タイムアウトしたチェーンコード(InitもしくはInvoke)実行回数 | chaincode        |                                                             |
+-----------------------------------------------------+-----------+------------------------------------------------------------+------------------+-------------------------------------------------------------+
| chaincode_launch_duration                           | histogram | チェーンコードを起動した時間                               | chaincode        |                                                             |
|                                                     |           |                                                            +------------------+-------------------------------------------------------------+
|                                                     |           |                                                            | success          |                                                             |
+-----------------------------------------------------+-----------+------------------------------------------------------------+------------------+-------------------------------------------------------------+
| chaincode_launch_failures                           | counter   | 失敗したチェーンコード起動の回数                           | chaincode        |                                                             |
+-----------------------------------------------------+-----------+------------------------------------------------------------+------------------+-------------------------------------------------------------+
| chaincode_launch_timeouts                           | counter   | タイムアウトしたチェーンコード起動の回数                   | chaincode        |                                                             |
+-----------------------------------------------------+-----------+------------------------------------------------------------+------------------+-------------------------------------------------------------+
| chaincode_shim_request_duration                     | histogram | chaincode shimのリクエストが完了した時間                   | type             |                                                             |
|                                                     |           |                                                            +------------------+-------------------------------------------------------------+
|                                                     |           |                                                            | channel          |                                                             |
|                                                     |           |                                                            +------------------+-------------------------------------------------------------+
|                                                     |           |                                                            | chaincode        |                                                             |
|                                                     |           |                                                            +------------------+-------------------------------------------------------------+
|                                                     |           |                                                            | success          |                                                             |
+-----------------------------------------------------+-----------+------------------------------------------------------------+------------------+-------------------------------------------------------------+
| chaincode_shim_requests_completed                   | counter   | chaincode shimのリクエストが完了した回数                   | type             |                                                             |
|                                                     |           |                                                            +------------------+-------------------------------------------------------------+
|                                                     |           |                                                            | channel          |                                                             |
|                                                     |           |                                                            +------------------+-------------------------------------------------------------+
|                                                     |           |                                                            | chaincode        |                                                             |
|                                                     |           |                                                            +------------------+-------------------------------------------------------------+
|                                                     |           |                                                            | success          |                                                             |
+-----------------------------------------------------+-----------+------------------------------------------------------------+------------------+-------------------------------------------------------------+
| chaincode_shim_requests_received                    | counter   | chaincode shimのリクエストを受信した回数                   | type             |                                                             |
|                                                     |           |                                                            +------------------+-------------------------------------------------------------+
|                                                     |           |                                                            | channel          |                                                             |
|                                                     |           |                                                            +------------------+-------------------------------------------------------------+
|                                                     |           |                                                            | chaincode        |                                                             |
+-----------------------------------------------------+-----------+------------------------------------------------------------+------------------+-------------------------------------------------------------+
| couchdb_processing_time                             | histogram | 関数が実行するCouchDBへのリクエストが完了するまでに        | database         |                                                             |
|                                                     |           | 掛かった時間(秒)                                           +------------------+-------------------------------------------------------------+
|                                                     |           |                                                            | function_name    |                                                             |
|                                                     |           |                                                            +------------------+-------------------------------------------------------------+
|                                                     |           |                                                            | result           |                                                             |
+-----------------------------------------------------+-----------+------------------------------------------------------------+------------------+-------------------------------------------------------------+
| deliver_blocks_sent                                 | counter   | デリバリーサービスによって送信されたブロック数             | channel          |                                                             |
|                                                     |           |                                                            +------------------+-------------------------------------------------------------+
|                                                     |           |                                                            | filtered         |                                                             |
|                                                     |           |                                                            +------------------+-------------------------------------------------------------+
|                                                     |           |                                                            | data_type        |                                                             |
+-----------------------------------------------------+-----------+------------------------------------------------------------+------------------+-------------------------------------------------------------+
| deliver_requests_completed                          | counter   | 完了したデリバリーサービス数                               | channel          |                                                             |
|                                                     |           |                                                            +------------------+-------------------------------------------------------------+
|                                                     |           |                                                            | filtered         |                                                             |
|                                                     |           |                                                            +------------------+-------------------------------------------------------------+
|                                                     |           |                                                            | data_type        |                                                             |
|                                                     |           |                                                            +------------------+-------------------------------------------------------------+
|                                                     |           |                                                            | success          |                                                             |
+-----------------------------------------------------+-----------+------------------------------------------------------------+------------------+-------------------------------------------------------------+
| deliver_requests_received                           | counter   | 受信したデリバリーサービス数                               | channel          |                                                             |
|                                                     |           |                                                            +------------------+-------------------------------------------------------------+
|                                                     |           |                                                            | filtered         |                                                             |
|                                                     |           |                                                            +------------------+-------------------------------------------------------------+
|                                                     |           |                                                            | data_type        |                                                             |
+-----------------------------------------------------+-----------+------------------------------------------------------------+------------------+-------------------------------------------------------------+
| deliver_streams_closed                              | counter   | クローズされたデリバリーサービスのGRPCストリーム数         |                  |                                                             |
+-----------------------------------------------------+-----------+------------------------------------------------------------+------------------+-------------------------------------------------------------+
| deliver_streams_opened                              | counter   | オープン化されたデリバリーサービスのGRPCストリーム数       |                  |                                                             |
+-----------------------------------------------------+-----------+------------------------------------------------------------+------------------+-------------------------------------------------------------+
| dockercontroller_chaincode_container_build_duration | histogram | チェーンコードがビルドされた時間(秒)                       | chaincode        |                                                             |
|                                                     |           |                                                            +------------------+-------------------------------------------------------------+
|                                                     |           |                                                            | success          |                                                             |
+-----------------------------------------------------+-----------+------------------------------------------------------------+------------------+-------------------------------------------------------------+
| endorser_chaincode_instantiation_failures           | counter   | チェーンコードのインスタンス化もしくはアップグレードが     | channel          |                                                             |
|                                                     |           | 失敗した回数                                               +------------------+-------------------------------------------------------------+
|                                                     |           |                                                            | chaincode        |                                                             |
+-----------------------------------------------------+-----------+------------------------------------------------------------+------------------+-------------------------------------------------------------+
| endorser_duplicate_transaction_failures             | counter   | トランザクションIDの重複によって失敗したプロポーザル数     | channel          |                                                             |
|                                                     |           |                                                            +------------------+-------------------------------------------------------------+
|                                                     |           |                                                            | chaincode        |                                                             |
+-----------------------------------------------------+-----------+------------------------------------------------------------+------------------+-------------------------------------------------------------+
| endorser_endorsement_failures                       | counter   | 失敗したエンドースメント数                                 | channel          |                                                             |
|                                                     |           |                                                            +------------------+-------------------------------------------------------------+
|                                                     |           |                                                            | chaincode        |                                                             |
|                                                     |           |                                                            +------------------+-------------------------------------------------------------+
|                                                     |           |                                                            | chaincodeerror   |                                                             |
+-----------------------------------------------------+-----------+------------------------------------------------------------+------------------+-------------------------------------------------------------+
| endorser_proposal_acl_failures                      | counter   | ACLチェックで失敗したプロポーザル数                        | channel          |                                                             |
|                                                     |           |                                                            +------------------+-------------------------------------------------------------+
|                                                     |           |                                                            | chaincode        |                                                             |
+-----------------------------------------------------+-----------+------------------------------------------------------------+------------------+-------------------------------------------------------------+
| endorser_proposal_duration                          | histogram | プロポーザルが完了するまでの時間                           | channel          |                                                             |
|                                                     |           |                                                            +------------------+-------------------------------------------------------------+
|                                                     |           |                                                            | chaincode        |                                                             |
|                                                     |           |                                                            +------------------+-------------------------------------------------------------+
|                                                     |           |                                                            | success          |                                                             |
+-----------------------------------------------------+-----------+------------------------------------------------------------+------------------+-------------------------------------------------------------+
| endorser_proposal_simulation_failures               | counter   | 失敗したプロポーザルシミュレーション数                     | channel          |                                                             |
|                                                     |           |                                                            +------------------+-------------------------------------------------------------+
|                                                     |           |                                                            | chaincode        |                                                             |
+-----------------------------------------------------+-----------+------------------------------------------------------------+------------------+-------------------------------------------------------------+
| endorser_proposal_validation_failures               | counter   | 失敗したイニシャルバリデーションを含むプロポーザル数       |                  |                                                             |
+-----------------------------------------------------+-----------+------------------------------------------------------------+------------------+-------------------------------------------------------------+
| endorser_proposals_received                         | counter   | 受信したプロポーザル数                                     |                  |                                                             |
+-----------------------------------------------------+-----------+------------------------------------------------------------+------------------+-------------------------------------------------------------+
| endorser_successful_proposals                       | counter   | 成功したプロポーザル数                                     |                  |                                                             |
+-----------------------------------------------------+-----------+------------------------------------------------------------+------------------+-------------------------------------------------------------+
| fabric_version                                      | gauge     | 稼働しているFabricのバージョン                             | version          |                                                             |
+-----------------------------------------------------+-----------+------------------------------------------------------------+------------------+-------------------------------------------------------------+
| gossip_comm_messages_received                       | counter   | 受信したメッセージ数                                       |                  |                                                             |
+-----------------------------------------------------+-----------+------------------------------------------------------------+------------------+-------------------------------------------------------------+
| gossip_comm_messages_sent                           | counter   | 送信したメッセージ数                                       |                  |                                                             |
+-----------------------------------------------------+-----------+------------------------------------------------------------+------------------+-------------------------------------------------------------+
| gossip_comm_overflow_count                          | counter   | アウトゴーイングキューバッファオーバフロー数               |                  |                                                             |
+-----------------------------------------------------+-----------+------------------------------------------------------------+------------------+-------------------------------------------------------------+
| gossip_leader_election_leader                       | gauge     | ピアがリーダー(1)、もしくはフォロワ(0)                     | channel          |                                                             |
+-----------------------------------------------------+-----------+------------------------------------------------------------+------------------+-------------------------------------------------------------+
| gossip_membership_total_peers_known                 | gauge     | 全てのピア数                                               | channel          |                                                             |
+-----------------------------------------------------+-----------+------------------------------------------------------------+------------------+-------------------------------------------------------------+
| gossip_payload_buffer_size                          | gauge     | ペイロードバッファのサイズ                                 | channel          |                                                             |
+-----------------------------------------------------+-----------+------------------------------------------------------------+------------------+-------------------------------------------------------------+
| gossip_privdata_commit_block_duration               | histogram | プライベートデータを含むブロックをコミットする時間(秒)     | channel          |                                                             |
+-----------------------------------------------------+-----------+------------------------------------------------------------+------------------+-------------------------------------------------------------+
| gossip_privdata_fetch_duration                      | histogram | 欠落したプライベートデータをピアからフェッチする時間(秒)   | channel          |                                                             |
+-----------------------------------------------------+-----------+------------------------------------------------------------+------------------+-------------------------------------------------------------+
| gossip_privdata_list_missing_duration               | histogram | 欠落したプライベートデータをリスト化する時間(秒)           | channel          |                                                             |
+-----------------------------------------------------+-----------+------------------------------------------------------------+------------------+-------------------------------------------------------------+
| gossip_privdata_pull_duration                       | histogram | 欠落したプライベートデータをプルする時間(秒)               | channel          |                                                             |
+-----------------------------------------------------+-----------+------------------------------------------------------------+------------------+-------------------------------------------------------------+
| gossip_privdata_purge_duration                      | histogram | プライベートデータをパージする時間(秒)                     | channel          |                                                             |
+-----------------------------------------------------+-----------+------------------------------------------------------------+------------------+-------------------------------------------------------------+
| gossip_privdata_reconciliation_duration             | histogram | プライベートデータの照合が完了する時間(秒)                 | channel          |                                                             |
+-----------------------------------------------------+-----------+------------------------------------------------------------+------------------+-------------------------------------------------------------+
| gossip_privdata_retrieve_duration                   | histogram | 欠落したプライベートデータを台帳から取得する時間(秒)       | channel          |                                                             |
+-----------------------------------------------------+-----------+------------------------------------------------------------+------------------+-------------------------------------------------------------+
| gossip_privdata_send_duration                       | histogram | 欠落したプライベートデータを送信する時間(秒)               | channel          |                                                             |
+-----------------------------------------------------+-----------+------------------------------------------------------------+------------------+-------------------------------------------------------------+
| gossip_privdata_validation_duration                 | histogram | ブロックを検証する時間(秒)                                 | channel          |                                                             |
+-----------------------------------------------------+-----------+------------------------------------------------------------+------------------+-------------------------------------------------------------+
| gossip_state_commit_duration                        | histogram | ブロックをコミットする時間(秒)                             | channel          |                                                             |
+-----------------------------------------------------+-----------+------------------------------------------------------------+------------------+-------------------------------------------------------------+
| gossip_state_height                                 | gauge     | 現在の台帳のブロック数                                     | channel          |                                                             |
+-----------------------------------------------------+-----------+------------------------------------------------------------+------------------+-------------------------------------------------------------+
| grpc_comm_conn_closed                               | counter   | クローズされたgRPC接続数                                   |                  |                                                             |
|                                                     |           | (Open数からClosed数を引いた値がアクティブな接続数)         |                  |                                                             |
+-----------------------------------------------------+-----------+------------------------------------------------------------+------------------+-------------------------------------------------------------+
| grpc_comm_conn_opened                               | counter   | オープン化されたgRPC接続数                                 |                  |                                                             |
|                                                     |           | (Open数からClosed数を引いた値がアクティブな接続数)         |                  |                                                             |
+-----------------------------------------------------+-----------+------------------------------------------------------------+------------------+-------------------------------------------------------------+
| grpc_server_stream_messages_received                | counter   | 受信したストリームメッセージ数                             | service          |                                                             |
|                                                     |           |                                                            +------------------+-------------------------------------------------------------+
|                                                     |           |                                                            | method           |                                                             |
+-----------------------------------------------------+-----------+------------------------------------------------------------+------------------+-------------------------------------------------------------+
| grpc_server_stream_messages_sent                    | counter   | 送信されたストリームメッセージ数                           | service          |                                                             |
|                                                     |           |                                                            +------------------+-------------------------------------------------------------+
|                                                     |           |                                                            | method           |                                                             |
+-----------------------------------------------------+-----------+------------------------------------------------------------+------------------+-------------------------------------------------------------+
| grpc_server_stream_request_duration                 | histogram | ストリームリクエストの完了時間                             | service          |                                                             |
|                                                     |           |                                                            +------------------+-------------------------------------------------------------+
|                                                     |           |                                                            | method           |                                                             |
|                                                     |           |                                                            +------------------+-------------------------------------------------------------+
|                                                     |           |                                                            | code             |                                                             |
+-----------------------------------------------------+-----------+------------------------------------------------------------+------------------+-------------------------------------------------------------+
| grpc_server_stream_requests_completed               | counter   | 完了したストリームリクエスト数                             | service          |                                                             |
|                                                     |           |                                                            +------------------+-------------------------------------------------------------+
|                                                     |           |                                                            | method           |                                                             |
|                                                     |           |                                                            +------------------+-------------------------------------------------------------+
|                                                     |           |                                                            | code             |                                                             |
+-----------------------------------------------------+-----------+------------------------------------------------------------+------------------+-------------------------------------------------------------+
| grpc_server_stream_requests_received                | counter   | 受信したストリームリクエスト数                             | service          |                                                             |
|                                                     |           |                                                            +------------------+-------------------------------------------------------------+
|                                                     |           |                                                            | method           |                                                             |
+-----------------------------------------------------+-----------+------------------------------------------------------------+------------------+-------------------------------------------------------------+
| grpc_server_unary_request_duration                  | histogram | 単項リクエストの完了時間                                   | service          |                                                             |
|                                                     |           |                                                            +------------------+-------------------------------------------------------------+
|                                                     |           |                                                            | method           |                                                             |
|                                                     |           |                                                            +------------------+-------------------------------------------------------------+
|                                                     |           |                                                            | code             |                                                             |
+-----------------------------------------------------+-----------+------------------------------------------------------------+------------------+-------------------------------------------------------------+
| grpc_server_unary_requests_completed                | counter   | 完了した単項リクエスト数                                   | service          |                                                             |
|                                                     |           |                                                            +------------------+-------------------------------------------------------------+
|                                                     |           |                                                            | method           |                                                             |
|                                                     |           |                                                            +------------------+-------------------------------------------------------------+
|                                                     |           |                                                            | code             |                                                             |
+-----------------------------------------------------+-----------+------------------------------------------------------------+------------------+-------------------------------------------------------------+
| grpc_server_unary_requests_received                 | counter   | 受信した単項リクエスト数                                   | service          |                                                             |
|                                                     |           |                                                            +------------------+-------------------------------------------------------------+
|                                                     |           |                                                            | method           |                                                             |
+-----------------------------------------------------+-----------+------------------------------------------------------------+------------------+-------------------------------------------------------------+
| ledger_block_processing_time                        | histogram | 台帳のブロック処理に掛かる時間(秒)                         | channel          |                                                             |
+-----------------------------------------------------+-----------+------------------------------------------------------------+------------------+-------------------------------------------------------------+
| ledger_blockchain_height                            | gauge     | チェーンとなったブロック数                                 | channel          |                                                             |
+-----------------------------------------------------+-----------+------------------------------------------------------------+------------------+-------------------------------------------------------------+
| ledger_blockstorage_and_pvtdata_commit_time         | histogram | ブロックとプライベートデータをストレージに                 | channel          |                                                             |
|                                                     |           | コミットする時間(秒)                                       |                  |                                                             |
+-----------------------------------------------------+-----------+------------------------------------------------------------+------------------+-------------------------------------------------------------+
| ledger_blockstorage_commit_time                     | histogram | ブロックをストレージにコミットするまでの時間(秒)           | channel          |                                                             |
+-----------------------------------------------------+-----------+------------------------------------------------------------+------------------+-------------------------------------------------------------+
| ledger_statedb_commit_time                          | histogram | ブロックの変更をステートDBにコミットするまでの時間(秒)     | channel          |                                                             |
+-----------------------------------------------------+-----------+------------------------------------------------------------+------------------+-------------------------------------------------------------+
| ledger_transaction_count                            | counter   | 処理されたトランザクション数                               | channel          |                                                             |
|                                                     |           |                                                            +------------------+-------------------------------------------------------------+
|                                                     |           |                                                            | transaction_type |                                                             |
|                                                     |           |                                                            +------------------+-------------------------------------------------------------+
|                                                     |           |                                                            | chaincode        |                                                             |
|                                                     |           |                                                            +------------------+-------------------------------------------------------------+
|                                                     |           |                                                            | validation_code  |                                                             |
+-----------------------------------------------------+-----------+------------------------------------------------------------+------------------+-------------------------------------------------------------+
| logging_entries_checked                             | counter   | アクティブなログレベルに対してのログエントリー数           | level            |                                                             |
+-----------------------------------------------------+-----------+------------------------------------------------------------+------------------+-------------------------------------------------------------+
| logging_entries_written                             | counter   | 書込まれたログエントリー数                                 | level            |                                                             |
+-----------------------------------------------------+-----------+------------------------------------------------------------+------------------+-------------------------------------------------------------+

StatsD
~~~~~~

以下のピアのメトリクスは、StatsDにより取得出来ます。 ``%{variable_name}`` は、環境に応じて変える箇所です。

例えば ``%{channel}`` は、メトリックに関連したチャネル名に変えてください。

+-----------------------------------------------------------------------------------------+-----------+------------------------------------------------------------+
| バケット                                                                                | タイプ    | 説明                                                       |
+=========================================================================================+===========+============================================================+
| chaincode.execute_timeouts.%{chaincode}                                                 | counter   | タイムアウトしたチェーンコード(InitもしくはInvoke)実行回数 |
+-----------------------------------------------------------------------------------------+-----------+------------------------------------------------------------+
| chaincode.launch_duration.%{chaincode}.%{success}                                       | histogram | チェーンコードを起動した時間                               |
+-----------------------------------------------------------------------------------------+-----------+------------------------------------------------------------+
| chaincode.launch_failures.%{chaincode}                                                  | counter   | 失敗したチェーンコード起動の回数                           |
+-----------------------------------------------------------------------------------------+-----------+------------------------------------------------------------+
| chaincode.launch_timeouts.%{chaincode}                                                  | counter   | タイムアウトしたチェーンコード起動の回数                   |
+-----------------------------------------------------------------------------------------+-----------+------------------------------------------------------------+
| chaincode.shim_request_duration.%{type}.%{channel}.%{chaincode}.%{success}              | histogram | chaincode shimのリクエストが完了した時間                   |
+-----------------------------------------------------------------------------------------+-----------+------------------------------------------------------------+
| chaincode.shim_requests_completed.%{type}.%{channel}.%{chaincode}.%{success}            | counter   | chaincode shimのリクエストが完了した回数                   |
+-----------------------------------------------------------------------------------------+-----------+------------------------------------------------------------+
| chaincode.shim_requests_received.%{type}.%{channel}.%{chaincode}                        | counter   | chaincode shimのリクエストを受信した回数                   |
+-----------------------------------------------------------------------------------------+-----------+------------------------------------------------------------+
| couchdb.processing_time.%{database}.%{function_name}.%{result}                          | histogram | 関数が実行するCouchDBへのリクエストが完了するまでに        |
|                                                                                         |           | 掛かった時間(秒)                                           |
+-----------------------------------------------------------------------------------------+-----------+------------------------------------------------------------+
| deliver.blocks_sent.%{channel}.%{filtered}.%{data_type}                                 | counter   | デリバリーサービスによって送信されたブロック数             |
+-----------------------------------------------------------------------------------------+-----------+------------------------------------------------------------+
| deliver.requests_completed.%{channel}.%{filtered}.%{data_type}.%{success}               | counter   | 完了したデリバリーサービス数                               |
+-----------------------------------------------------------------------------------------+-----------+------------------------------------------------------------+
| deliver.requests_received.%{channel}.%{filtered}.%{data_type}                           | counter   | 受信したデリバリーサービス数                               |
+-----------------------------------------------------------------------------------------+-----------+------------------------------------------------------------+
| deliver.streams_closed                                                                  | counter   | クローズされたデリバリーサービスのGRPCストリーム数         |
+-----------------------------------------------------------------------------------------+-----------+------------------------------------------------------------+
| deliver.streams_opened                                                                  | counter   | オープン化されたデリバリーサービスのGRPCストリーム数       |
+-----------------------------------------------------------------------------------------+-----------+------------------------------------------------------------+
| dockercontroller.chaincode_container_build_duration.%{chaincode}.%{success}             | histogram | チェーンコードがビルドされた時間(秒)                       |
+-----------------------------------------------------------------------------------------+-----------+------------------------------------------------------------+
| endorser.chaincode_instantiation_failures.%{channel}.%{chaincode}                       | counter   | チェーンコードのインスタンス化もしくはアップグレードが     |
|                                                                                         |           | 失敗した回数                                               |
+-----------------------------------------------------------------------------------------+-----------+------------------------------------------------------------+
| endorser.duplicate_transaction_failures.%{channel}.%{chaincode}                         | counter   | トランザクションIDの重複によって失敗したプロポーザル数     |
+-----------------------------------------------------------------------------------------+-----------+------------------------------------------------------------+
| endorser.endorsement_failures.%{channel}.%{chaincode}.%{chaincodeerror}                 | counter   | 失敗したエンドースメント数                                 |
+-----------------------------------------------------------------------------------------+-----------+------------------------------------------------------------+
| endorser.proposal_acl_failures.%{channel}.%{chaincode}                                  | counter   | ACLチェックで失敗したプロポーザル数                        |
+-----------------------------------------------------------------------------------------+-----------+------------------------------------------------------------+
| endorser.proposal_duration.%{channel}.%{chaincode}.%{success}                           | histogram | プロポーザルが完了するまでの時間                           |
+-----------------------------------------------------------------------------------------+-----------+------------------------------------------------------------+
| endorser.proposal_simulation_failures.%{channel}.%{chaincode}                           | counter   | 失敗したプロポーザルシミュレーション数                     |
+-----------------------------------------------------------------------------------------+-----------+------------------------------------------------------------+
| endorser.proposal_validation_failures                                                   | counter   | 失敗したイニシャルバリデーションを含むプロポーザル数       |
+-----------------------------------------------------------------------------------------+-----------+------------------------------------------------------------+
| endorser.proposals_received                                                             | counter   | 受信したプロポーザル数                                     |
+-----------------------------------------------------------------------------------------+-----------+------------------------------------------------------------+
| endorser.successful_proposals                                                           | counter   | 成功したプロポーザル数                                     |
+-----------------------------------------------------------------------------------------+-----------+------------------------------------------------------------+
| fabric_version.%{version}                                                               | gauge     | 稼働しているFabricのバージョン                             |
+-----------------------------------------------------------------------------------------+-----------+------------------------------------------------------------+
| gossip.comm.messages_received                                                           | counter   | 受信したメッセージ数                                       |
+-----------------------------------------------------------------------------------------+-----------+------------------------------------------------------------+
| gossip.comm.messages_sent                                                               | counter   | 送信したメッセージ数                                       |
+-----------------------------------------------------------------------------------------+-----------+------------------------------------------------------------+
| gossip.comm.overflow_count                                                              | counter   | アウトゴーイングキューバッファオーバフロー数               |
+-----------------------------------------------------------------------------------------+-----------+------------------------------------------------------------+
| gossip.leader_election.leader.%{channel}                                                | gauge     | ピアがリーダー(1)、もしくはフォロワ(0)                     |
+-----------------------------------------------------------------------------------------+-----------+------------------------------------------------------------+
| gossip.membership.total_peers_known.%{channel}                                          | gauge     | 全てのピア数                                               |
+-----------------------------------------------------------------------------------------+-----------+------------------------------------------------------------+
| gossip.payload_buffer.size.%{channel}                                                   | gauge     | ペイロードバッファのサイズ                                 |
+-----------------------------------------------------------------------------------------+-----------+------------------------------------------------------------+
| gossip.privdata.commit_block_duration.%{channel}                                        | histogram | プライベートデータを含むブロックをコミットする時間(秒)     |
+-----------------------------------------------------------------------------------------+-----------+------------------------------------------------------------+
| gossip.privdata.fetch_duration.%{channel}                                               | histogram | 欠落したプライベートデータをピアからフェッチする時間(秒)   |
+-----------------------------------------------------------------------------------------+-----------+------------------------------------------------------------+
| gossip.privdata.list_missing_duration.%{channel}                                        | histogram | 欠落したプライベートデータをリスト化する時間(秒)           |
+-----------------------------------------------------------------------------------------+-----------+------------------------------------------------------------+
| gossip.privdata.pull_duration.%{channel}                                                | histogram | 欠落したプライベートデータをプルする時間(秒)               |
+-----------------------------------------------------------------------------------------+-----------+------------------------------------------------------------+
| gossip.privdata.purge_duration.%{channel}                                               | histogram | プライベートデータをパージする時間(秒)                     |
+-----------------------------------------------------------------------------------------+-----------+------------------------------------------------------------+
| gossip.privdata.reconciliation_duration.%{channel}                                      | histogram | プライベートデータの照合が完了する時間(秒)                 |
+-----------------------------------------------------------------------------------------+-----------+------------------------------------------------------------+
| gossip.privdata.retrieve_duration.%{channel}                                            | histogram | 欠落したプライベートデータを台帳から取得する時間(秒)       |
+-----------------------------------------------------------------------------------------+-----------+------------------------------------------------------------+
| gossip.privdata.send_duration.%{channel}                                                | histogram | 欠落したプライベートデータを送信する時間(秒)               |
+-----------------------------------------------------------------------------------------+-----------+------------------------------------------------------------+
| gossip.privdata.validation_duration.%{channel}                                          | histogram | ブロックを検証する時間(秒)                                 |
+-----------------------------------------------------------------------------------------+-----------+------------------------------------------------------------+
| gossip.state.commit_duration.%{channel}                                                 | histogram |ブロックをコミットする時間(秒)                              |
+-----------------------------------------------------------------------------------------+-----------+------------------------------------------------------------+
| gossip.state.height.%{channel}                                                          | gauge     | 現在の台帳のブロック数                                     |
+-----------------------------------------------------------------------------------------+-----------+------------------------------------------------------------+
| grpc.comm.conn_closed                                                                   | counter   | クローズされたgRPC接続数                                   |
|                                                                                         |           | (Open数からClosed数を引いた値がアクティブな接続数)         |
+-----------------------------------------------------------------------------------------+-----------+------------------------------------------------------------+
| grpc.comm.conn_opened                                                                   | counter   | オープン化されたgRPC接続数                                 |
|                                                                                         |           | (Open数からClosed数を引いた値がアクティブな接続数)         |
+-----------------------------------------------------------------------------------------+-----------+------------------------------------------------------------+
| grpc.server.stream_messages_received.%{service}.%{method}                               | counter   | 受信したストリームメッセージ数                             |
+-----------------------------------------------------------------------------------------+-----------+------------------------------------------------------------+
| grpc.server.stream_messages_sent.%{service}.%{method}                                   | counter   | 送信されたストリームメッセージ数                           |
+-----------------------------------------------------------------------------------------+-----------+------------------------------------------------------------+
| grpc.server.stream_request_duration.%{service}.%{method}.%{code}                        | histogram | ストリームリクエストの完了時間                             |
+-----------------------------------------------------------------------------------------+-----------+------------------------------------------------------------+
| grpc.server.stream_requests_completed.%{service}.%{method}.%{code}                      | counter   | 完了したストリームリクエスト数                             |
+-----------------------------------------------------------------------------------------+-----------+------------------------------------------------------------+
| grpc.server.stream_requests_received.%{service}.%{method}                               | counter   | 受信したストリームリクエスト数                             |
+-----------------------------------------------------------------------------------------+-----------+------------------------------------------------------------+
| grpc.server.unary_request_duration.%{service}.%{method}.%{code}                         | histogram | 単項リクエストの完了時間                                   |
+-----------------------------------------------------------------------------------------+-----------+------------------------------------------------------------+
| grpc.server.unary_requests_completed.%{service}.%{method}.%{code}                       | counter   | 完了した単項リクエスト数                                   |
+-----------------------------------------------------------------------------------------+-----------+------------------------------------------------------------+
| grpc.server.unary_requests_received.%{service}.%{method}                                | counter   | 受信した単項リクエスト数                                   |
+-----------------------------------------------------------------------------------------+-----------+------------------------------------------------------------+
| ledger.block_processing_time.%{channel}                                                 | histogram | 台帳のブロック処理に掛かる時間(秒)                         |
+-----------------------------------------------------------------------------------------+-----------+------------------------------------------------------------+
| ledger.blockchain_height.%{channel}                                                     | gauge     | チェーンとなったブロック数                                 |
+-----------------------------------------------------------------------------------------+-----------+------------------------------------------------------------+
| ledger.blockstorage_and_pvtdata_commit_time.%{channel}                                  | histogram | ブロックとプライベートデータをストレージに                 |
|                                                                                         |           | コミットする時間(秒)                                       |
+-----------------------------------------------------------------------------------------+-----------+------------------------------------------------------------+
| ledger.blockstorage_commit_time.%{channel}                                              | histogram | ブロックをストレージにコミットするまでの時間(秒)           |
+-----------------------------------------------------------------------------------------+-----------+------------------------------------------------------------+
| ledger.statedb_commit_time.%{channel}                                                   | histogram | ブロックの変更をステートDBにコミットするまでの時間(秒)     |
+-----------------------------------------------------------------------------------------+-----------+------------------------------------------------------------+
| ledger.transaction_count.%{channel}.%{transaction_type}.%{chaincode}.%{validation_code} | counter   | 処理されたトランザクション数                               |
+-----------------------------------------------------------------------------------------+-----------+------------------------------------------------------------+
| logging.entries_checked.%{level}                                                        | counter   | アクティブなログレベルに対してのログエントリー数           |
+-----------------------------------------------------------------------------------------+-----------+------------------------------------------------------------+
| logging.entries_written.%{level}                                                        | counter   | 書込まれたログエントリー数                                 |
+-----------------------------------------------------------------------------------------+-----------+------------------------------------------------------------+

.. Licensed under Creative Commons Attribution 4.0 International License
   https://creativecommons.org/licenses/by/4.0/
