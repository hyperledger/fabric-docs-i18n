Defining capability requirements
================================

:doc:`capabilities_concept` セクションに説明がある様に、ケーパビリティ要件はチャネル毎に定義されます。その定義内容は、チャネルの最新のコンフィギュレーションブロックに記録されます。チャネル設定は3つのファイルから構成され、それぞれ異なるタイプのケーパビリティを定義します。

+-----------------------+-----------------------------------+---------------------------------------+
| ケーパビリティタイプ  | 正規化パス                        | JSONパス                              |
+=======================+===================================+=======================================+
| チャネル              | /Channel/Capabilities             | .channel_group.values.Capabilities    |
+-----------------------+-----------------------------------+---------------------------------------+
| Orderer               | /Channel/Orderer/Capabilities     | .channel_group.groups.Orderer.values. |
|                       |                                   | Capabilities                          |
+-----------------------+-----------------------------------+---------------------------------------+
| アプリケーション      | /Channel/Application/Capabilities | .channel_group.groups.Application.    |
|                       |                                   | values.Capabilities                   |
+-----------------------+-----------------------------------+---------------------------------------+

Setting Capabilities
--------------------

ケーパビリティはチャネル設定の一部として設定されます。また、後ほど説明する初期設定もしくは再設定する内容の一部でもあります。

.. note:: チャネル設定の更新方法に関しては、:doc:`config_update` セクションを参照してください。

新しいチャネルはデフォルトでオーダリングシステムチャネルの設定をコピーします。これにより、新しいチャネルにはOrdererとチャネルのケーパビリティが自動的に設定されます。対象のオーダリングシステムチャネルとアプリケーションは、チャネル作成のトランザクションで指定します。

Capabilities in an Initial Configuration
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

リリースアーキファクトの ``config`` フォルダに配置される ``configtx.yaml`` ファイルに、 ``Capabilities``  セクションがあります。このセクションに、ケーパビリティタイプ（チャネル、Ordererとアプリケーション）毎の設定内容が記載されます。

``Capabilities`` セクションは、チャネルケーパビリティはルートレベル、OrdererケーパビリティはOrdererレベルで定義されます。

オーダリングシステムチャネルのケーパビリティを定義する際には、アプリケーションセクションの内容は定義されず、アプリケーションチャネルを作成することで定義されます。

.. Licensed under Creative Commons Attribution 4.0 International License
   https://creativecommons.org/licenses/by/4.0/
